{"version":3,"sources":["components/CurrencySelectItem.js","components/Form.js","components/ChangeButton.js","components/Info.js","components/App.js","index.js"],"names":["CurrencySelectItem","currencies","value","setValue","objectArr","Object","keys","sort","map","key","onChange","e","currentTarget","Form","from","to","setFrom","setTo","fromAmount","setFromAmount","calculateConvertion","convertion","onSubmit","preventDefault","type","min","target","disabled","Button","onClick","helper","className","Info","Values","Name","substring","apiKey","currenciesURL","App","useState","setCurrencies","convertionObject","setConvertionObject","convertionObjectLoaded","setConvertionObjectLoaded","currenciesLoaded","setCurrenciesLoaded","setConvertion","error","setError","objNameArr","item","objValuesArr","values","convertURL","useEffect","fetch","then","res","ok","json","Error","status","result","catch","toString","componentForm","results","convertionCount","i","length","toFixed","componentButton","componentInfo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f66d093.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst CurrencySelectItem = ({ currencies, value, setValue }) => {\r\n  const objectArr = Object.keys(currencies)\r\n    .sort()\r\n    .map((key) => (\r\n      <option key={key} value={key}>\r\n        {key}\r\n      </option>\r\n    ));\r\n  return (\r\n    <select value={value} onChange={(e) => setValue(e.currentTarget.value)}>\r\n      {objectArr}\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default CurrencySelectItem;\r\n","import React from \"react\";\r\nimport CurrencySelectItem from \"./CurrencySelectItem\";\r\nimport \"../css/Form.css\";\r\n\r\nconst Form = ({\r\n  currencies,\r\n  from,\r\n  to,\r\n  setFrom,\r\n  setTo,\r\n  fromAmount,\r\n  setFromAmount,\r\n  calculateConvertion,\r\n  convertion,\r\n}) => {\r\n  const handleOnClick = (e) => {\r\n    e.preventDefault();\r\n    calculateConvertion();\r\n  };\r\n  return (\r\n    <form onSubmit={handleOnClick}>\r\n      <input\r\n        type=\"text\"\r\n        value={fromAmount}\r\n        min={0}\r\n        onChange={(e) => setFromAmount(e.target.value)}\r\n      />\r\n      <CurrencySelectItem\r\n        currencies={currencies}\r\n        value={from}\r\n        setValue={setFrom}\r\n        onChange={calculateConvertion()}\r\n      />\r\n      <br />\r\n      <input type=\"text\" value={convertion} disabled />\r\n      <CurrencySelectItem\r\n        currencies={currencies}\r\n        value={to}\r\n        setValue={setTo}\r\n        onChange={calculateConvertion()}\r\n      />\r\n      <br />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport \"../css/ChangeButton.css\";\r\n\r\nconst Button = ({ from, to, setFrom, setTo }) => {\r\n  const handleOnClick = () => {\r\n    let helper = from;\r\n    setFrom(to);\r\n    setTo(helper);\r\n  };\r\n  return (\r\n    <button onClick={handleOnClick} className=\"changeButton\">\r\n      â‡…\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport \"../css/Info.css\";\r\n\r\nconst Info = ({ Values, from, to, Name }) => {\r\n  return (\r\n    <div className=\"info\">\r\n      <p>\r\n        1 {from} = {from === Name[0].substring(0, 3) ? Values[0] : Values[1]}{\" \"}\r\n        {to}\r\n      </p>\r\n      <p>\r\n        1 {to} = {from === Name[1].substring(0, 3) ? Values[0] : Values[1]}{\" \"}\r\n        {from}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Form from \"./Form\";\r\nimport \"../css/App.css\";\r\nimport ChangeButton from \"./ChangeButton\";\r\nimport Info from \"./Info\";\r\n\r\nconst apiKey = \"75603abb0998080373c2\";\r\nconst currenciesURL = `https://free.currconv.com/api/v7/currencies?apiKey=${apiKey}`;\r\n\r\nconst App = () => {\r\n  const [from, setFrom] = useState(\"EUR\");\r\n  const [to, setTo] = useState(\"PLN\");\r\n  const [currencies, setCurrencies] = useState({});\r\n  const [convertionObject, setConvertionObject] = useState({});\r\n  const [convertionObjectLoaded, setConvertionObjectLoaded] = useState(false);\r\n  const [currenciesLoaded, setCurrenciesLoaded] = useState(false);\r\n  const [fromAmount, setFromAmount] = useState(0);\r\n  const [convertion, setConvertion] = useState(0);\r\n  const [error, setError] = useState(\"Loading...\");\r\n\r\n  let objNameArr = convertionObjectLoaded\r\n    ? Object.keys(convertionObject).map((item) => item)\r\n    : \"123\";\r\n  let objValuesArr = convertionObjectLoaded\r\n    ? Object.values(convertionObject).map((item) => item)\r\n    : \"123\";\r\n\r\n  let convertURL = `https://free.currconv.com/api/v7/convert?q=${from}_${to},${to}_${from}&compact=ultra&apiKey=${apiKey}`;\r\n\r\n  useEffect(() => {\r\n    fetch(currenciesURL)\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(res.status);\r\n        else return res.json();\r\n      })\r\n      .then((result) => {\r\n        setCurrencies(result);\r\n        setCurrenciesLoaded(true);\r\n      })\r\n      .catch((error) => {\r\n        if (error.toString() === \"Error: 400\") {\r\n          setError(\r\n            `Sorry... Free API limit reached, try again later (up to 1 hour)`\r\n          );\r\n        } else setError(error.toString());\r\n      });\r\n\r\n    fetch(convertURL)\r\n      .then(setConvertionObjectLoaded(false))\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(res.status);\r\n        else return res.json();\r\n      })\r\n      .then((result) => {\r\n        setConvertionObject(result);\r\n        setConvertionObjectLoaded(true);\r\n      })\r\n      .catch((error) => {\r\n        if (error.toString() === \"Error: 400\") {\r\n          setError(\r\n            `Sorry... Free API limit reached, try again later (up to 1 hour)`\r\n          );\r\n        } else setError(error.toString());\r\n      });\r\n  }, [convertURL]);\r\n\r\n  const calculateConvertion = () => {\r\n    let convertionCount = 0;\r\n\r\n    for (let i = 0; i < objNameArr.length; i++) {\r\n      if (objNameArr[i] === `${from}_${to}`) {\r\n        convertionCount = objValuesArr[i];\r\n      }\r\n    }\r\n\r\n    setConvertion((fromAmount * convertionCount).toFixed(2));\r\n  };\r\n\r\n  const componentForm = currenciesLoaded ? (\r\n    <Form\r\n      currencies={currencies.results}\r\n      from={from}\r\n      to={to}\r\n      setFrom={setFrom}\r\n      setTo={setTo}\r\n      fromAmount={fromAmount}\r\n      setFromAmount={setFromAmount}\r\n      calculateConvertion={calculateConvertion}\r\n      convertion={convertion}\r\n    />\r\n  ) : (\r\n    <h2>{error}</h2>\r\n  );\r\n\r\n  const componentButton = currenciesLoaded ? (\r\n    <ChangeButton from={from} to={to} setFrom={setFrom} setTo={setTo} />\r\n  ) : null;\r\n\r\n  const componentInfo = convertionObjectLoaded ? (\r\n    currenciesLoaded ? (\r\n      <Info Values={objValuesArr} Name={objNameArr} from={from} to={to} />\r\n    ) : null\r\n  ) : currenciesLoaded ? (\r\n    \"Loading...\"\r\n  ) : null;\r\n\r\n  return (\r\n    <>\r\n      <h1>Currency converter</h1>\r\n      <div className=\"wrapper\">\r\n        {componentForm}\r\n        {componentButton}\r\n      </div>\r\n      {componentInfo}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./css/index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}